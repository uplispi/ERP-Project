# 软件体系结构文档

## 目录

[toc]

## 1.引言

### 1.1 编制目的

本报告详细完成对erp系统的概要设计，达到指导详细设计和开发的⽬的，同时实现和测试⼈员以及⽤户的沟通。

本报告⾯向开发⼈员、测试⼈员及最终⽤户⽽编写，是了解系统的导航。

### 1.2 词汇表

| 词汇名称 | 词汇含义 | 备注 |
| -------- | -------- | ---- |
|          |          |      |

### 1.3 参考资料

（1）IEEE标准

（2）《软件工程与计算（卷二）软件开发的技术基础》

（3）详细设计文档

## 2.产品概述

参考ERP系统用例文档和软件需求规格说明中对产品的概括描述

## 3.逻辑视图

ERP系统中，选择了分层体系结构风格，将系统分为4部分(View、Controller、Service、Data)能够很好地示意整个高层抽象。View部分包含GUI页面地实现，进行图形化界面编程。Controller部分负责接受前端的请求并分发给相应的Service，Service部分负责业务逻辑的实现，data部分负责数据的持久化和访问。

分层体系结构的逻辑视角和逻辑设计方案如下图所示

图1 参照体系结构风格的包图表达逻辑视角

<img src="https://seec-homework.oss-cn-shanghai.aliyuncs.com/Lab7体系结构风格的包图逻辑视角_201250095.png" alt="体系结构风格的包图逻辑视角" style="zoom: 75%;" />

图2 软件体系结构逻辑设计方案

![体系结构开发包图](https://seec-homework.oss-cn-shanghai.aliyuncs.com/Lab7体系结构开发包图201250095.png)

## 4.组合视图

### 4.1 开发包图

ERP系统的最终开发图设计

| 开发（物理）包                 | 依赖的其他开发包                                             |
| ------------------------------ | ------------------------------------------------------------ |
| MainView                       | AccountManagementView, CollectionSheetView, PaymentSheetView, EmploymeeManagementView, PromotionStrategyView, SalesDetailView |
| AccountManagementView          | AccountManagementController, REST API                        |
| AccountManagementController    | AccountManagementService，AccountVO,  UserVO , REST API      |
| AccountManagementService       | AccountVO, UserVO                                            |
| AccountManagementServiceImpl   | AccountManagementService, AccountManagementDao, AccountVO, AccountPO, UserVO |
| AccountManagementDao           | AccountPO                                                    |
| CollectionSheetView            | CollectionSheetController, AccountManagementView, CustomerController, REST API |
| CollectionController           | CollectionService, CollectionSheetVO, UserVO, REST API       |
| CollectionService              | CollectionSheetVO, UserVO                                    |
| CollectionSheetServiceImpl     | CollectionService, CustomerService, CollectionSheetDao, AccountManagementService, CollectionSheetVO, CollectionSheetContentVO, CollectionSheetPO, CollectionSheetContentPO, AccountVO, UserVO, CustomerPO, utils |
| CollectionSheetDao             | CollectionSheetPO, CollectionSheetContentPO                  |
| PaymentSheetView               | PaymentSheetController, AccountManagementView, CustomerController, REST API |
| PaymentSheetController         | PaymentService, PaymentSheetVO, UserVO, REST API             |
| PaymentService                 | PaymentSheetVO, UserVO                                       |
| PaymentServiceImpl             | PaymentService, CustomerService, AccountManagementService, PaymentSheetDao, PaymentSheetVO, PaymentSheetContentVO, UserVO, AccountVO, utils |
| PaymentSheetDao                | PaymentSheetPO, PaymentSheetContentPO                        |
| EmploymeeManagementView        | EmployeeManagementController, REST API                       |
| EmploymeeManagementController  | EmployeeManagementService, EmployeeVO, REST API              |
| EmploymeeManagementService     | EmployeeVO                                                   |
| EmploymeeManagementServiceImpl | EmployeeManagementService, EmployeeManagementDao, PostService, PushMoneyService, EmployeeVO, EmployeePO |
| EmploymeeManagementDao         | EmployeePO                                                   |
| PromotionStrategyView          | PromotionStrategyController, ProductionController, CustomerController, REST API |
| PromotionStrategyController    | PromotionStrategyService, PromotionContentVO, REST API       |
| PromotionStrategyService       | SaleSheetVO, PromotionVO, PromotionContentVO                 |
| PromotionStrategyServiceImpl   | PromotionStrategyService, PromotionDao, CustomerService, PromotionVO, PromotionContentVO, SaleSheetVO, CustomerPO |
| PromotionStrategyDao           | PromotionContentPO                                           |
| SalesDetailView                | SalesDetailControllerSaleDetai                               |
| SalesDetailController          | SalesDetailService                                           |
| SalesDetailService             | SaleDetailFormVO                                             |
| SalesDetailServiceImpl         | SalesDetailService, SaleDetailFormVO, SalesDetailDao, SalesDetailFormPO |
| SalesDetailDao                 | SalesDetailFormPO                                            |
| PostManagementView             | PostController, REST API                                     |
| PostManagementController       | PostService, PostVO, REST API                                |
| PostService                    | PostVO                                                       |
| PostServiceImpl                | PostVO, PostPO, PostDao, PostService                         |
| PostDao                        | PostPO                                                       |
| PushMoneyManagementView        | PushMoneyController, REST API                                |
| PushMoneyController            | PushMoneyService, PushMoneyVO, REST API                      |
| PushMoneyService               | PushMoneyVO                                                  |
| PushMoneyServiceImpl           | PushMoneyService, PushMoneyDao, PushMoneyPO, PushMoneyVO     |
| PushMoneyDao                   | PushMoneyPO                                                  |
| AttendanceRecordManagementView | AttendanceRecordController, REST API                         |
| AttendanceRecordController     | AttendanceRecordService, AttendanceRecordVO, REST API        |
| AttendanceRecordService        | AttendanceRecordVO                                           |
| AttendanceRecordServiceImpl    | AttendanceRecordService, AttendanceRecordDao, AttendanceRecordPO, AttendanceRecordVO |
| AttendanceRecordDao            | AttendanceRecordPO                                           |
| WarehouseGiftSheetView         | WarehouseGiftSheetController, REST API                       |
| WarehouseGiftSheetController   | WarehouseGiftSheetService, REST API                          |
| WarehouseGiftSheetService      | WarehouseGiftSheetVO                                         |
| WarehouseGiftSheetServiceImpl  | WarehouseGiftSheetService, WarehouseGiftSheetDao, WarehouseGiftSheetVO, WarehouseGiftSheetContentVO, WarehouseGiftSheetPO, WarehouseGiftSheetContentPO, utils |
| WarehouseGiftSheetDao          | WarehouseGiftSheetPO, WarehouseGiftSheetContentPO            |
| PayrollView                    | PayrollContorler, REST API                                   |
| PayrollControler               | PayrollService, UserVO, PayrollVO                            |
| PayrollService                 | PayrollVO, UserVO                                            |
| PayrollServiceImpl             | PayrollDao, DetailPO,  PayrollPO, AccountVO, PayrollVO, UserVO, AccountMangementService, PayrollService, payStrategy, Utils |
| PayrollDao                     | DetailPO, PayrollPO                                          |
| BusinessHistoryView            | BusinessHistoryController, CollectionController, PaymentController,  PurchaseController, PurchaseReturnsController,  SaleController, SaleRetunrController, REST API |
| BusinessHistoryController      | BusinessHistoryService, DownloadVO                           |
| BusinessHistoryService         | PayrollPO, CollectionSheetPO, PaymentSheetPO, PurchaseSheetPO, SaleReturnSheetPO,  SaleSheetPO, |
| BusinessHistoryServieImpl      | PayrollPO, CollectionSheetPO, PaymentSheetPO, PurchaseSheetPO, SaleReturnSheetPO,  SaleSheetPO, BusinessHistoryService,  BusinessHistoryDao |
| BusinessHistoryDao             | PayrollPO, CollectionSheetPO, PaymentSheetPO, PurchaseSheetPO, SaleReturnSheetPO,  SaleSheetPO |
| OperationView                  | OperationController, REST API                                |
| OperationController            | OperationService, DownloadVO                                 |
| OperationService               | OperatonVO                                                   |
| OperatoinServiceImpl           | BusinessHistoryService, OperationService, OperationVO, SaleSheetPO, SaleReturnsSheetPO, PurchaseSheetPO, PayrollPO, SaleSheetPO, PurchaseReturnSheetPO |
| vo                             |                                                              |
| po                             |                                                              |
| Utils                          |                                                              |
| REST API                       |                                                              |

ERP系统客户端开发包图

![详细设计客户端开发包图](https://seec-homework.oss-cn-shanghai.aliyuncs.com/Lab7详细设计客户端开发包图201250095.png)



ERP系统服务器端开发包图

![服务端开发包图](https://seec-homework.oss-cn-shanghai.aliyuncs.com/服务端开发包图201250095.png)



### 4.2 运行时进程

<img src="https://seec-homework.oss-cn-shanghai.aliyuncs.com/Lab7运行时进程_201250095.png" alt="运行时进程图" style="zoom: 67%;" />

### 4.3 物理部署

![7物理部署图](https://seec-homework.oss-cn-shanghai.aliyuncs.com/Lab7物理部署图201250095.png)



## 5.接口视角

### 5.1 模块职责

客户端模块和服务器端模块视图分别如下图所示，客户端各层和服务端各层的职责分别如下表所示

* **客户端模块视图：**
  ![客户端模块视图](https://seec-homework.oss-cn-shanghai.aliyuncs.com/Lab7客户端模块视图201250095.png)
* **客户端各层职责：**

| 层       | 职责                                 |
| -------- | ------------------------------------ |
| View层   | ERP系统客户端用户界面                |
| 网络模块 | 利用REST API和服务器端交互，建立通信 |
| 启动模块 | 负责初始化网络通信，渲染浏览器页面   |

* **服务端模块视图**：
  ![服务端模块视图](https://seec-homework.oss-cn-shanghai.aliyuncs.com/Lab7服务器端模块视图201250095.png)
* **服务端各层职责：**

| 层           | 职责                                                              |
| ------------ | ----------------------------------------------------------------- |
| 网络模块     | 利用Tomcat和Java注解与反射开启服务器端接口                        |
| Controller层 | 响应客户端发送的请求并将该请求转发给对应的Service层，返回请求结果 |
| Service层    | 负责与数据层交互，实现业务逻辑                                    |
| Data层       | 负责数据的持久化和提供数据访问的接口                              |
| 启动模块     | 负责初始化网络通信机制，加载Bean                                  |

* **层与层直接调用的接口：**

| 接口                                                         | 服务调用方             | 服务提供方         |
| ------------------------------------------------------------ | ---------------------- | ------------------ |
| AccountManagementController<br />CollectionController<br />PaymentController<br />EmployeeManagementController<br />PromotionStrategyController<br />SalesDetailController<br />PostController <br />PushMoneyController <br />AttendanceRecordController <br />WarehouseGiftSheetController<br />PayrollController<br />BusinessHistoryController<br />OperationController | 客户端View层           | 服务端Controller层 |
| AccountManagementService<br />CollectionService<br />PaymentService<br />EmployeeManagementService<br />PromotionStrategyService<br />SalesDetailService<br />PostService <br />PushMoneyService <br />AttendanceRecordService <br />WarehouseGiftSheetService<br />PayrollService<br />BusinessHistroyService<br />OperationService | 服务端Controller展示层 | 服务端Service层    |
| AccountManagementDao<br />CollectionDao<br />PaymentDao<br />EmployeeManagementDao<br />PromotionStrategyDao<br />SalesDetailDao<br />PostDao<br />PushMoneyDao <br />AttendanceRecordDao <br />WarehouseGiftSheetDao<br />PayrollDao<br />BusinessHistroyDao | 服务端Service层        | 服务端Data层       |

### 5.2 用户界面层的分解

根据需求，整个ERP系统的用户界面有：

登录界面、注册界面、商品分类管理界面、商品管理界面、库存管理界面、库存查看界面、库存盘点界面、进货管理界面、进货退货管理界面、销售管理界面、销售退货管理界面、客户管理界面、收款单管理界面、付款单管理界面、工资单管理界面、查看销售明细界面、查看经营历程界面、查看经营情况界面、员工管理界面、收款单审批界面、付款单审批界面、工资单审批界面、进货单审批界面、进货退货单审批界面、销售单审批界面、销售退货单审批界面、促销策略管理界面、员工打卡页面、岗位管理界面、提成管理界面 

![统界面图](https://seec-homework.oss-cn-shanghai.aliyuncs.com/Lab7系统界面图201250095.png)

#### 5.2.1 用户界面层模块的职责

| 模块                             | 职责                |
| ------------------------------ | ----------------- |
| MainView                       | 负责页面之间的跳转         |
| AccountManagementView          | 负责账户管理界面显示和发送请求   |
| CollectionSheetView            | 负责收款单管理界面显示和发送请求  |
| PaymentSheetView               | 负责付款单管理界面显示和发送请求  |
| EmployeeManagementView         | 负责员工管理界面显示和发送请求   |
| PromotionStrategyView          | 负责促销策略界面显示和发送请求   |
| AttendanceRecordManagementView | 负责员工打卡管路界面显示和发送请求 |
| SaleDetailView                 | 负责销售明细界面显示和发送请求   |
| BusinessHistoryView            | 负责经营历程界面显示和发送请求   |
| OperationView                  | 负责经营情况界面显示和发送请求   |
| PayrollView                    | 负责工资单管理界面显示和发送请求  |
| PostManagementView             | 负责岗位管理界面显示和发送请求   |
| PushMoneyManagementView        | 负责提成管理界面显示和发送请求   |
| WarehouseGiftSheetView | 负责库存赠品单审批界面显示和发送请求 |

#### 5.2.2 用户界面层模块的接口规范

<table>
    <caption style="font-weight:bold">表 AccountManagement模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementView.createAccount</td>
        <td>语法</td>
        <td>createAccount()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员填写好要创建的账户的信息</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求到服务器，将添加的账户信息传给服务器</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementView.deleteAccount</td>
        <td>语法</td>
        <td>deleteAccount()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员选择要删除的账户后，点击删除</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务器，删除该账户</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementView.showAccount</td>
        <td>语法</td>
        <td>showAccount()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员进入账户管理页面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>账户管理页面显示所有账户</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementView.updateAccount</td>
        <td>语法</td>
        <td>updateAccount()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员编辑某一客户的信息</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务端，修改对应账户的信息</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>AccountManagementController.createAccount(UserVO userVo, AccountVO accountVO)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层创建一个账户</td>
    </tr>
    <tr>
    	<td>AccountManagementController.updateAccount(AccountVO accountVO)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层修改该账户信息</td>
    </tr>
    <tr>
    	<td>AccountManagementController.deleteAccount(Integer id)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层删除该id对应的账户</td>
    </tr>
    <tr>
    	<td>AccountManagementController.find()</td>
        <td colspan=2>响应客户端请求，接受传来的参数，并返回所有账户VO</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 CollectionSheetView模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionSheetView.createCollerctionSheet()</td>
        <td>语法</td>
        <td>createCollerctionSheet()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员填写好要创建的收款单的信息</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务器，请该收款单写入数据库中</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionSheetView.getAllCollectionSheet()</td>
        <td>语法</td>
        <td>getAllCollectionSheet()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员进入收款单管理界面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>根据服务端返回的所有收款单，显示在界面上</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionSheetView.approvalCollectionSheet()</td>
        <td>语法</td>
        <td>approvalCollectionSheet()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务端，设置该单据的状态</td>
    </tr>
        <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
        <td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
        <td>CollectionController.makeCollectionSheet(UserVO userVO, @RequestBody CollectionSheetVO collectionSheetVO)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层创建一个收款单</td>
    </tr>
    <tr>
        <td>CollectionController.approval(@RequestParam("collectionSheetId") String collectionSheetId, @RequestParam("state") CollectionSheetState state)</td>
        <td colspan=2>审批收款单</td>
    </tr>
    <tr>
        <td>CollectionController.showSheetByState(@RequestParam(value = "state", required = false) CollectionSheetState state)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，并返回处于此状态的所有付款单VO</td>
    </tr>
    <tr>
        <td>CollectionController.findBySheetId(@RequestParam(value = "id") String id)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，并返回该id对应的收款单VO</td>
    </tr>

<table>
    <caption style="font-weight:bold">表 WarehouseGiftSheetView的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetView.getWarehouseGiftSheetByState</td>
        <td>语法</td>
        <td>getWarehouseGiftSheetByState()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>登录的用户为总经理</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>显示出所有的库存赠品单</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetView.approvalWarehouseGiftSheet()</td>
        <td>语法</td>
        <td>approvalWarehouseGiftSheet()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>刷新页面</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>WarehouseGiftSheetController.getSheetsByState(WarehouseGiftSheetState state)</td>
        <td colspan=2>返回状态为state的所有单据</td>
    </tr>
    <tr>
    	<td>approval(String warehouseGiftSheetId, WarehouseGiftSheetState state)</td>
        <td colspan=2>审批该id对应的单据，将其状态改为state</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PromotionStrategyView模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionStrategyView.createPromotion()</td>
        <td>语法</td>
        <td>createPromotion()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>总经理填写好要创建的促销策略的信息</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求到服务器，将添加的促销策略信息传给服务器</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionStrategyView.deletePromotion</td>
        <td>语法</td>
        <td>deletePromotion()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>总经理选择要删除的促销策略后，点击删除</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务器，删除该促销策略</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionStrategyView.getAllPromotion</td>
        <td>语法</td>
        <td>showAccount()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>总经理进入促销策略管理页面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>促销策略管理页面显示所有促销策略</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionStrategyView.getValidPromotion</td>
        <td>语法</td>
        <td>updateAccount()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>销售经理制定销售单时选择促销策略</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>制定销售单界面显示所有在有效时间内的策略</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>PromotionController.add(@RequestBody PromotionContentVO promotionContentVO)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层创建一个促销策略</td>
    </tr>
    <tr>
    	<td>PromotionController.delete(@RequestParam(value = "id") Integer id)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层删除该id对应的促销策略</td>
    </tr>
    <tr>
    	<td>PromotionController.show()</td>
        <td colspan=2>响应客户端请求，调用Service层并返回所有的促销策略</td>
    </tr>
    <tr>
    	<td>PromotionController.showValid()</td>
        <td colspan=2>响应客户端请求，调用Service层并返回所有的有效时间内的促销策略</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 EmployeeManagement模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>EmployeeManagementView.createEmployee</td>
        <td>语法</td>
        <td>createEmployee()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>人力资源管理人员填写好要创建的员工的信息</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求到服务器，将添加的员工信息传给服务器</td>
    </tr>
    <tr>
    	<td rowspan=3>EmployeeManagementView.deleteEmployee</td>
        <td>语法</td>
        <td>deleteEmployee()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>人力资源管理人员选择要删除的员工后，点击删除</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务器，删除该员工</td>
    </tr>
    <tr>
    	<td rowspan=3>EmployeeManagementView.showEmployee</td>
        <td>语法</td>
        <td>showEmployee()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>人力资源管理人员进入员工管理页面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>员工管理页面显示所有员工</td>
    </tr>
    <tr>
    	<td rowspan=3>EmployeeManagementView.updateEmployee</td>
        <td>语法</td>
        <td>updateEmployee()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>人力资源管理人员编辑某一员工的信息</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务端，修改对应员工的信息</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>EmployeeManagementController.createEmployee(@RequestBody EmployeeVO employeeVO)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层创建一个员工</td>
    </tr>
    <tr>
    	<td>EmployeeManagementController.updateEmployee(@RequestBody EmployeeVO employeeVO)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层修改该员工信息</td>
    </tr>
    <tr>
    	<td>EmployeeManagementController.deleteEmployee(@RequestParam Integer id)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层删除该id对应的员工</td>
    </tr>
    <tr>
    	<td>EmployeeManagementController.queryAllEmployee()</td>
        <td colspan=2>响应客户端请求，接受传来的参数，并返回所有员工VO</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PostManagement模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>PostManagementView.createPost</td>
        <td>语法</td>
        <td>createPost()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>人力资源管理人员填写好要创建的岗位的信息</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求到服务器，将添加的岗位信息传给服务器</td>
    </tr>
    <tr>
    	<td rowspan=3>PostManagementView.deletePost</td>
        <td>语法</td>
        <td>deletePost()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>人力资源管理人员选择要删除的岗位后，点击删除</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务器，删除该岗位</td>
    </tr>
    <tr>
    	<td rowspan=3>PostManagementView.showPost</td>
        <td>语法</td>
        <td>showPost()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>人力资源管理人员进入岗位管理页面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>岗位管理页面显示所有岗位</td>
    </tr>
    <tr>
    	<td rowspan=3>PostManagementView.updatePost</td>
        <td>语法</td>
        <td>updatePost()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>人力资源管理人员编辑某一岗位的信息</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务端，修改对应岗位的信息</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>PostController.createPost(@RequestBody PostVO postVO)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层创建一个岗位</td>
    </tr>
    <tr>
    	<td>PostController.updatePost(@RequestBody PostVO postVO)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层修改该岗位信息</td>
    </tr>
    <tr>
    	<td>PostController.deletePost(@RequestParam Integer id)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层删除该id对应的岗位</td>
    </tr>
    <tr>
    	<td>PostController.queryAllPost()</td>
        <td colspan=2>响应客户端请求，接受传来的参数，并返回所有岗位VO</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PushMoneyManagement模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>PushMoneyManagementView.queryAllPushMoney</td>
        <td>语法</td>
        <td>queryAllPushMoney()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>人力资源管理人员选择管理提成模块</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务段，请求所有的提成信息</td>
    </tr>
    <tr>
    	<td rowspan=3>PushMoneyManagementView.updatePushMoney</td>
        <td>语法</td>
        <td>updatePushMoney()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>人力资源管理人员更新某一提成的信息</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务端，修改对应提成的信息</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>PushMoneyController.updatePushMoneyInfo(@RequestBody PushMoneyVO pushMoneyVO)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层修改该提成信息</td>
    </tr>
    <tr>
    	<td>PushMoneyController.findPushMoneyInfo()</td>
        <td colspan=2>响应客户端请求，接受传来的参数，并返回所有提成VO</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 AttendanceRecord模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>AttendanceRecordView.showAttendanceRecordById</td>
        <td>语法</td>
        <td>showAttendanceRecordById()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>员工选择员工打卡模块</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务段，请求当前月份该员工所有的打卡信息</td>
    </tr>
    <tr>
    	<td rowspan=3>AttendanceRecordView.createAttendanceRecord</td>
        <td>语法</td>
        <td>createAttendanceRecord()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>员工点击打卡按钮进行每日打卡</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>发送请求给服务端，创建一条新的打卡记录</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>AttendanceRecordController.createRecord(@RequestBody AttendanceRecordVO attendanceRecordVO)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，调用Service层创建该打卡记录</td>
    </tr>
    <tr>
    	<td>AttendanceRecordController.queryById(@RequestParam Integer id)</td>
        <td colspan=2>响应客户端请求，接受传来的参数，并对应id员工的当月打卡信息</td>
    </tr>
</table>



<table>
    <caption style="font-weight:bold">表 PayrollView的接口预览</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollView.queryAll</td>
        <td>语法</td>
        <td>queryAll()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员进入工资单管理页面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统显示所有工资单</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollView.add</td>
        <td>语法</td>
        <td>add(config)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员修改并确认工资信息</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统生成工资单</td>
    </tr>
    <tr>
    	<td rowspan=3>Payroll.getDetail</td>
        <td>语法</td>
        <td>getDetail()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员点击选择员工</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统显示员工的工资信息</td>
    </tr>
      <tr>
    	<td rowspan=3>Payroll.update</td>
        <td>语法</td>
        <td>update(config)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>总经理或HR修改单据状态</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统更改工资单状态</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>PayrollController.queryall()</td>
        <td colspan=2>响应客户端的请求,接受传来的参数,并调用service层返回全部工资单</td>
    </tr>
    <tr>
    	<td>PayrollController.getDetail()</td>
        <td colspan=2>响应客户端的请求,接受传来的参数,并调用service层返回全部工资信息</td>
    </tr>
        <tr>
    	<td>PayrollController.add(UserVO userVO, @RequestBody PayrollVO payrollVO)</td>
        <td colspan=2>响应客户端的请求,接受传来的参数,并调用service层添加一张待一级审批的工资单</td>
    </tr>
        <tr>
    	<td>PayrollController.update(UserVO userVO ,@RequestBody PayrollVO payrollVO)</td>
        <td colspan=2>响应客户端的请求,接受传来的参数,并调用service层更新指定单据</td>
    </tr>
</table>
<table>
    <caption style="font-weight:bold">表 SaleDetailView的接口预览</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>SaleDetail.getSalesDetail</td>
        <td>语法</td>
        <td>getSalesDetail()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员进入销售明细界面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统显示所有的销售明细</td>
    </tr>
    <tr>
    	<td rowspan=3>SaleDetail.downloadSalesDetail</td>
        <td>语法</td>
        <td>downloadSalesDetail()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员点击导出excel按钮</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统下载excel表格</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td> SaleDetailController.query(@RequestParam(value = "beginDate", required = false) String beginDate,@RequestParam(value = "endDate", required = false) String endDate,@RequestParam(value = "salesman", required = false) String salesman,@PathVariable(value = "pid", required = false) String pid ,@RequestParam(value = "customerId", required = false) Integer customerId)</td>
        <td colspan=2>响应客户端的请求,接受传来的参数,并调用service层根据所选条件返回销售明细</td>
    </tr>
    <tr>
    	<td>SaleDetailController.excel(HttpServletResponse response, @RequestBody SalesDetailVO salesDetailVO)</td>
        <td colspan=2>响应客户端的请求,接受传来的参数,并调用service层下载excel</td>
    </tr>
</table>
<table>
    <caption style="font-weight:bold">表 BusinessHistoryView的接口预览</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistroyView.getAllSale</td>
        <td>语法</td>
        <td>getAllSale()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员进入经营历程界面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统获取销售单</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistroyView.getAllSaleReturn</td>
        <td>语法</td>
        <td>getAllSaleReturn()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员进入经营历程界面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统获取销售退货单</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistroyView.getAllPurchase</td>
        <td>语法</td>
        <td>getAllPurchase()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员进入经营历程界面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统获取进货单</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistroyView.getAllPurchaseReturn</td>
        <td>语法</td>
        <td>getAllPurchaseReturn()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员进入经营历程界面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统获取进货退货单单</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistroyView.getAllPaymentSheet</td>
        <td>语法</td>
        <td>getAllPaymentSheet()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员进入经营历程界面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统获取付款单单</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistroyView.getAllCollectionSheet</td>
        <td>语法</td>
        <td>getAllCollectionSheet()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员进入经营历程界面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统获取收款单</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistroyView.queryAll</td>
        <td>语法</td>
        <td>queryAll()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员进入经营历程界面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统获取工资单</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryView.downloadSheet</td>
        <td>语法</td>
        <td>downloadSheet()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员选择单据类型</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统下载对应单据</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>BusinessHistoryController.downloadSheetExcel(HttpServletResponse response, @RequestBody DownloadVO downloadVO)</td>
        <td colspan=2>响应客户端的请求,接受传来的参数,并调用service层下载excel</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 OperationView 的接口预览</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>OperationView.downloadExcel</td>
        <td>语法</td>
        <td>downloadExcel()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员点击导出excel按钮</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统下载excel</td>
    </tr>
    <tr>
    	<td rowspan=3>OperationView.getOperatons</td>
        <td>语法</td>
        <td>getOperations()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>财务人员进入经营情况界面</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>系统显示所有时间段内的经营情况</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>OperationcController.get(@RequestParam(value = "beginDate", required = false) String beginDate, @RequestParam(value="endDate", required = false) String endDate)</td>
        <td colspan=2>响应客户端的请求,接受传来的参数,并调用service层返回一段时间内的经营情况</td>
    </tr>
    <tr>
    	<td>OperationController.excel(HttpServletResponse response, @RequestBody DownloadVO downloadVO)</td>
        <td colspan=2>响应客户端的请求,接受传来的参数,并调用service层下载excel</td>
    </tr>
</table>



### 5.3 Controller层的分解

<table>
    <caption style="font-weight:bold">表 AccountManagementController模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementController.createAccount</td>
        <td>语法</td>
        <td>public Response createAccount(UserVO userVO,@RequestBody AccountVO accountVO);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送创建账户的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service创建一个新的账户</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementController.updateAccount</td>
        <td>语法</td>
        <td>public Response updateAccount(@RequestBody AccountVO accountVO);
</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送修改账户信息的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service层修改该账户</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementController.deleteById</td>
        <td>语法</td>
        <td>public Response deleteById(@RequestParam(value = "id") int id);
</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送删除账户的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service层删除该账户</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementController.find</td>
        <td>语法</td>
        <td>public Response find();</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送获取所有账户的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回所有账户</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>AccountManagementService.createAccount(UserVO userVo, AccountVO accountVO)</td>
        <td colspan=2>创建一个账户</td>
    </tr>
    <tr>
    	<td>AccountManagementService.updateAccount(AccountVO accountVO)</td>
        <td colspan=2>修改一个账户的信息</td>
    </tr>
    <tr>
    	<td>AccountManagementService.updateAccount(AccountVO accountVO)</td>
        <td colspan=2>修改一个账户的信息</td>
    </tr>
    <tr>
    	<td>AccountManagementService.deleteAccount(Integer id)</td>
        <td colspan=2>通过id删除一个账户</td>
    </tr>
    <tr>
    	<td>AccountManagementService.find()</td>
        <td colspan=2>查询所有的账户</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 CollectionController模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionController.makeCollectionSheet</td>
        <td>语法</td>
        <td>public Response makeCollectionSheet(UserVO userVO, @RequestBody CollectionSheetVO collectionSheetVO)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送创建收款单的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service层创建一个收款单</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionController.approval</td>
        <td>语法</td>
        <td>public Response approval(@RequestParam("collectionSheetId") String collectionSheetId, @RequestParam("state") CollectionSheetState state)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送审批单据的请求，且该用户被授权</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service修改单据状态</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionController.showSheetByState</td>
        <td>语法</td>
        <td>public Response showSheetByState(@RequestParam(value = "state", required = false) CollectionSheetState state)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送请求获取所有该状态的收款单</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service查询所有该状态的单据，并返回</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionController.findBySheetId</td>
        <td>语法</td>
        <td>public Response findBySheetId(@RequestParam(value = "id") String id)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送请求获取该id对应的收款单</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service层查询该id对应的账户，并返回</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>CollectionService.makeCollectionSheet(UserVO userVO, CollectionSheetVO collectionSheetVO)</td>
        <td colspan=2>创建一个收款单</td>
    </tr>
    <tr>
    	<td>CollectionService.getCollectionSheetByState(CollectionSheetState state)</td>
        <td colspan=2>通过单据状态获取所有收款单</td>
    </tr>
    <tr>
    	<td>CollectionService.approval(String collectionSheetId, CollectionSheetState state)</td>
        <td colspan=2>审批单据</td>
    </tr>
    <tr>
    	<td>CollectionService.getCollectionSheetById(String collectionSheetId)</td>
        <td colspan=2>通过id获取单据</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PaymentController模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>PaymentController.makePaymentSheet</td>
        <td>语法</td>
        <td>public Response makePaymentSheet(UserVO userVO, @RequestBody PaymentSheetVO collectionSheetVO)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送创建付款单的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service层创建一个付款单</td>
    </tr>
    <tr>
    	<td rowspan=3>PaymentController.approval</td>
        <td>语法</td>
        <td>public Response approval(@RequestParam("paymentSheetId") String paymentSheetId, @RequestParam("state") PaymentSheetState state)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送审批单据的请求，且该用户被授权</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service修改单据状态</td>
    </tr>
    <tr>
    	<td rowspan=3>PaymentController.showSheetByState</td>
        <td>语法</td>
        <td>public Response showSheetByState(@RequestParam(value = "state", required = false) PaymentSheetState state)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送请求获取所有该状态的付款单</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service查询所有该状态的单据，并返回</td>
    </tr>
    <tr>
    	<td rowspan=3>PaymentController.findBySheetId</td>
        <td>语法</td>
        <td>public Response findBySheetId(@RequestParam(value = "id") String id)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送请求获取该id对应的付款单</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service层查询该id对应的账户，并返回</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>PaymentService.PaymentSheet(UserVO userVO, PaymentSheetVO paymentSheetVO)</td>
        <td colspan=2>创建一个付款单</td>
    </tr>
    <tr>
    	<td>PaymentService.getPaymentSheetByState(PaymentSheetState state)</td>
        <td colspan=2>通过单据状态获取所有付款单</td>
    </tr>
    <tr>
    	<td>PaymentService.approval(String paymentSheetId, paymentSheetState state)</td>
        <td colspan=2>审批单据</td>
    </tr>
    <tr>
    	<td>PaymentService.getPaymentSheetById(String paymentSheetId)</td>
        <td colspan=2>通过id获取单据</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 WarehouseGiftSheetController层的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetController.getSheetsByState()</td>
        <td>语法</td>
        <td>public Response getSheetsByState(WarehouseGiftSheetState state)
</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetController.approval()</td>
        <td>语法</td>
        <td>public Response approval(String warehouseGiftSheetId, WarehouseGiftSheetState state)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>无</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>WarehouseGiftSheetService.findSheetByState(WarehouseGiftSheetState state)</td>
        <td colspan=2>通过state查询单据并返回</td>
    </tr>
    <tr>
    	<td>WarehouseGiftSheetService.approval(String warehouseGiftSheetId, arehouseGiftSheetState state)</td>
        <td colspan=2>审批单据</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PromotionController层的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionController.add()</td>
        <td>语法</td>
        <td>public Response add(@RequestBody PromotionContentVO promotionContentVO)
</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送创建促销策略的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service层创建一个促销策略</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionController.delete()</td>
        <td>语法</td>
        <td>public Response delete(@RequestParam(value = "id") Integer id)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送删除促销策略的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service层删除该id对应的促销策略</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionController.show()</td>
        <td>语法</td>
        <td>public Response show()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送请求获取所有的促销策略</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service层查询所有促销策略，并返回</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionController.showValid()</td>
        <td>语法</td>
        <td>public Response showValid()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送请求获取所有有效时间内的促销策略</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service层查询所有有效时间内的促销策略，并返回</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>PromotionStrategyService.add(PromotionContentVO promotionContentVO)</td>
        <td colspan=2>创建一个促销策略</td>
    </tr>
    <tr>
    	<td>PromotionStrategyService.del(Integer id)</td>
        <td colspan=2>根据id删除促销策略</td>
    </tr>
    <tr>
    	<td>PromotionStrategyService.getAllValid()</td>
        <td colspan=2>获取所有有效时间内的促销策略</td>
    </tr>
    <tr>
    	<td>PromotionStrategyService.getAll()</td>
        <td colspan=2>获取所有的促销策略</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 EmployeeManagementController模块的接口规范</caption>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementController.createEmployee</td>
        <td>语法</td>
        <td>public Response createEmployee(@RequestBody EmployeeVO employeeVO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>客户端发送创建员工的请求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>调用Service创建一个新的员工</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementController.updateEmployee</td>
        <td>语法</td>
        <td>public Response updateEmployee(@RequestBody EmployeeVO employeeVO);
</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>客户端发送修改员工信息的请求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>调用Service层修改该员工信息</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementController.deleteEmployee</td>
        <td>语法</td>
        <td>public Response deleteEmployee(@RequestParam Integer id);
</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>客户端发送删除员工的请求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>调用Service层删除该员工</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementController.queryAllEmployee</td>
        <td>语法</td>
        <td>public Response queryAllEmployee();</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>客户端发送获取所有员工的请求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回所有员工</td>
    </tr>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
        <td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
        <td>EmployeeManagementService.createEmployee(EmployeeVO employeeVO)</td>
        <td colspan=2>创建一个员工</td>
    </tr>
    <tr>
        <td>EmployeeManagementService.updateAccount(AccountVO accountVO)</td>
        <td colspan=2>修改一个员工的信息</td>
    </tr>
    <tr>
        <td>EmployeeManagementService.deleteEmployee(Integer empId)</td>
        <td colspan=2>通过id删除一个员工</td>
    </tr>
    <tr>
        <td>AccountManagementService.getAllEmployees()</td>
        <td colspan=2>查询所有的员工</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PostController模块的接口规范</caption>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
        <td rowspan=3>PostController.createPost</td>
        <td>语法</td>
        <td>public Response createPost(@RequestBody PostVO postVO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>客户端发送创建岗位的请求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>调用Service创建一个新的岗位</td>
    </tr>
    <tr>
        <td rowspan=3>PostController.updatePost</td>
        <td>语法</td>
        <td>public Response updatePost(@RequestBody PostVO postVO);
</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>客户端发送修改岗位信息的请求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>调用Service层修改该岗位信息</td>
    </tr>
    <tr>
        <td rowspan=3>PostController.deletePost</td>
        <td>语法</td>
        <td>public Response deletePost(@RequestParam Integer id);
</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>客户端发送删除岗位的请求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>调用Service层删除该岗位</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementController.queryAllPost</td>
        <td>语法</td>
        <td>public Response queryAllPost();</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>客户端发送获取所有岗位的请求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回所有岗位信息</td>
    </tr>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
        <td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
        <td>PostService.createPost(PostVO postVO)</td>
        <td colspan=2>创建一个岗位</td>
    </tr>
    <tr>
        <td>PostService.updatePost(PostVO postVO)</td>
        <td colspan=2>修改一个岗位的信息</td>
    </tr>
    <tr>
        <td>PostService.deletePost(Integer id)</td>
        <td colspan=2>通过id删除一个岗位</td>
    </tr>
    <tr>
        <td>PostService.findAllPosts()</td>
        <td colspan=2>查询所有的岗位</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PushMoneyController模块的接口规范</caption>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
        <td rowspan=3>PushMoneyController.updatePushMoney</td>
        <td>语法</td>
        <td>public Response updatePushMoneyInfo(@RequestBody PushMoneyVO pushMoneyVO);
</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>客户端发送修改提成信息的请求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>调用Service层修改该提成信息</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementController.findPushMoneyInfo</td>
        <td>语法</td>
        <td>public Response findPushMoneyInfo();</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>客户端发送获取所有提成的请求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回所有提成信息</td>
    </tr>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
        <td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
        <td>PushMoneyService.updatePushMoney(PushMoneyVO pushMoneyVO)</td>
        <td colspan=2>修改一个提成的信息</td>
    </tr>
    <tr>
        <td>PushMoneyService.findAllPushMoney()</td>
        <td colspan=2>查询所有的提成</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 AttendanceRecordController模块的接口规范</caption>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
        <td rowspan=3>AttendanceRecordController.createRecord</td>
        <td>语法</td>
        <td>public Response createRecord(@RequestBody AttendanceRecordVO attendanceRecordVO);
</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>客户端发送打卡请求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>调用Service层进行打卡</td>
    </tr>
    <tr>
        <td rowspan=3>AttendanceRecordController.queryById</td>
        <td>语法</td>
        <td>public Response queryById(@RequestParam Integer id);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>客户端发送获取某员工所有打卡记录的请求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回所有打卡记录</td>
    </tr>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
        <td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
        <td>AttendanceRecordService.createAttendanceRecord(AttendanceRecordVO attendanceRecordVO)</td>
        <td colspan=2>创建一个新的打卡记录</td>
    </tr>
    <tr>
        <td>AttendanceRecordService.findById(Integer id)</td>
        <td colspan=2>查询某员工的所有打卡记录</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PayrollController模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollController.queryAll</td>
        <td>语法</td>
        <td>public Response queryAll()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送查询全部工资单的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service返回所有工资单</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollController.getDetail</td>
        <td>语法</td>
        <td>public Response getDetail()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送获取所有工资细节的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service返回所有的工资细节</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollController.add</td>
        <td>语法</td>
        <td>public Response add(UserVO userVO, @RequestBody PayrollVO payrollVO)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送增加工资单的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service向数据库中增加工资单</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollController.update</td>
        <td>语法</td>
        <td>public Response update(UserVO userVO ,@RequestBody PayrollVO payrollVO)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送更新工资单的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service更新工资单</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>PayrollService.queryAll()</td>
        <td colspan=2>返回全部工资单</td>
    </tr>
    <tr>
    	<td>PayrollService.getDetail();</td>
        <td colspan=2>返回全部工资细节</td>
    </tr>
    <tr>
    	<td>PayrollService.add(UserVO userVO, PayrollVO payrollVO)</td>
        <td colspan=2>创建一张工资单</td>
    </tr>
    <tr>
    	<td>PayrollService. update(UserVO userVO, PayrollVO payrollVO)</td>
        <td colspan=2>更新一张工资单</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 SalesDetailController模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>SalesDetailController.query</td>
        <td>语法</td>
        <td> public Response query(@RequestParam(value = "beginDate", required = false) String beginDate, @RequestParam(value = "endDate", required = false) String endDate, @RequestParam(value = "salesman", required = false) String salesman, @PathVariable(value = "pid", required = false) String pid , @RequestParam(value = "customerId", required = false) Integer customerId)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送查询销售明细的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service返回所有的销售明细</td>
    </tr>
    <tr>
    	<td rowspan=3>SalesDetailController.excel</td>
        <td>语法</td>
        <td>public void excel(HttpServletResponse response, @RequestBody SalesDetailVO salesDetailVO)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送导出excel的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service生成并下载excel</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>SalesDetailService.indSalesDetail(Date beginDate, Date endDate, String salesman, String pid, Integer customerId)</td>
        <td colspan=2>返回全部销售明细</td>
    </tr>
    <tr>
    	<td>SalesDetailService.salesDetailExcel(Date beginDate, Date endDate, String salesman, String pid, Integer customerId)</td>
        <td colspan=2>生成销售明细excel表格</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 BusinessesHistoryController模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessesHistoryController.downloadSheetExcel</td>
        <td>语法</td>
        <td>public void downloadSheetExcel(HttpServletResponse response, @RequestBody DownloadVO downloadVO)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送导出excel的请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service生成并下载excel</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>BusinessesHistoryService.downloadSaleSheet(Date beginDate, Date endDate, Integer customer, String salesMan)</td>
        <td colspan=2>返回销售单excel</td>
    </tr>
    <tr>
    	<td>BusinessesHistoryService.downloadSaleReturnsSheet(Date beginDate, Date endDate, Integer customer, String salesMan)</td>
        <td colspan=2>返回销售退货单excel</td>
    </tr>
    <tr>
    	<td>BusinessesHistoryService.downloadPurchaseSheet(Date beginDate, Date endDate, Integer customer)</td>
        <td colspan=2>返回进货单excel</td>
    </tr>
    <tr>
    	<td>BusinessesHistoryService.downloadPurchaseReturnsSheet(Date beginDate, Date endDate)</td>
        <td colspan=2>返回进货退货单excel</td>
    </tr>
    <tr>
    	<td>BusinessesHistoryService.downloadPaymentSheet(Date beginDate, Date endDate)</td>
        <td colspan=2>返回付款单excel</td>
    </tr>
    <tr>
    	<td>BusinessesHistoryService.downloadCollectionSheet(Date beginDate, Date endDate)</td>
        <td colspan=2>返回收款单excel</td>
    </tr>
    <tr>
    	<td>BusinessesHistoryService.downloadPayroll(Date beginDate, Date endDate)</td>
        <td colspan=2>返回工资单excel</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 OperationController模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>OperationController.query</td>
        <td>语法</td>
        <td>public Response get(@RequestParam(value = "beginDate", required = false) String beginDate, @RequestParam(value="endDate", required = false) String endDate)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送查询经营情况请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service返回经营情况</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
        <tr>
    	<td rowspan=3>OperationController.excel</td>
        <td>语法</td>
        <td> public void excel(HttpServletResponse response, @RequestBody DownloadVO downloadVO)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>客户端发送导出经营情况请求</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>调用Service下载经营情况表</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>OperationService.getOpertion(Date beginDate, Date endDate)</td>
        <td colspan=2>返回销售明细表</td>
    </tr>
    <tr>
    	<td>OperationService.getExcel(Date beginDate, Date endDate)</td>
        <td colspan=2>返回销售明细表excel</td>
    </tr>
</table>


### 5.4 业务逻辑层的分解

<table>
    <caption style="font-weight:bold">表 AccountManagementService的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementService.createAccount</td>
        <td>语法</td>
        <td>AccountVO createAccount(UserVO userVo, AccountVO accountVO);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回该账户的VO</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementService.updateAccount</td>
        <td>语法</td>
        <td>void updateAccount(AccountVO accountVO);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementService.deleteAccount</td>
        <td>语法</td>
        <td>void deleteAccount(Integer id);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该id的账户存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementService.find</td>
        <td>语法</td>
        <td>List<AccountVO> find();</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回所有账户</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementService.getAccountById</td>
        <td>语法</td>
        <td>AccountVO getAccountById(Integer id);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回该id对应的账户VO</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>createAccount(AccountPO accountPO)</td>
        <td colspan=2>把AccountPO对象写进数据库</td>
    </tr>
    <tr>
    	<td>updateAccount(AccountPO accountPO)</td>
        <td colspan=2>修改数据库中该账户</td>
    </tr>
    <tr>
    	<td>deleteById(Integer id)</td>
        <td colspan=2>通过id删除数据库中对应的账户</td>
    </tr>
    <tr>
    	<td>find()</td>
        <td colspan=2>查询数据库返回所有账户PO对象</td>
    </tr>
    <tr>
    	<td>findById(Integer id)</td>
        <td colspan=2>通过id查询数据库中的该账户，返回一个AccountPO对象</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 CollectionService模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>makeCollectionSheet</td>
        <td>语法</td>
        <td>void makeCollectionSheet(UserVO userVO, CollectionSheetVO collectionSheetVO);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>计算该收款单的总额，修改相关账户的余额</td>
    </tr>
    <tr>
    	<td rowspan=3>getCollectionSheetByState</td>
        <td>语法</td>
        <td>List<CollectionSheetVO> getCollectionSheetByState(CollectionSheetState state);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>state为null或者四个状态之一</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回对应状态的所有单据</td>
    </tr>
    <tr>
    	<td rowspan=3>approval</td>
        <td>语法</td>
        <td>void approval(String collectionSheetId, CollectionSheetState state);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该单据原先的状态不是审批成功或者审批失败</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>修改单据的状态，并且修改对应客户的应付</td>
    </tr>
    <tr>
    	<td rowspan=3>getCollectionSheetById</td>
        <td>语法</td>
        <td>CollectionSheetVO getCollectionSheetById(String collectionSheetId);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该id对应的单据存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回一个单据的VO</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务名</td>
    </tr>
    <tr>
    	<td>CollectionDao.getLatest()</td>
        <td colspan=2>返回最近一个单据的PO</td>
    </tr>
    <tr>
    	<td>CollectionDao.save(CollectionSheetPO collectionSheetPO)</td>
        <td colspan=2>将一个单据PO存入数据库中</td>
    </tr>
    <tr>
    	<td>CollectionDao.saveContent(List<CollectionSheetContentPO> collectionSheetContentPOList)</td>
        <td colspan=2>将单据中的转账条目PO存入数据库中</td>
    </tr>
    <tr>
    	<td>CollectionDao.findAll()</td>
        <td colspan=2>查询数据库中的所有单据</td>
    </tr>
    <tr>
    	<td>CollectionDao.findAllByState(CollectionSheetState state)</td>
        <td colspan=2>返回数据库中该状态的所有单据</td>
    </tr>
    <tr>
    	<td>CollectionDao.updateState(String collectionId, CollectionSheetState state)</td>
        <td colspan=2>更新数据库中该单据的状态</td>
    </tr>
    <tr>
    	<td>CollectionDao.findOneById(String collectionSheetId)</td>
        <td colspan=2>返回数据库中该id的单据</td>
    </tr>
    <tr>
    	<td>CollectionDao.findContentByCollectionSheetId(String collectionSheetId)</td>
        <td colspan=2>返回数据库中该单据的所有转账条目</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PaymentService模块的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>makePaymentSheet</td>
        <td>语法</td>
        <td>void makePaymentSheet(UserVO userVO, PaymentSheetVO paymentSheetVO);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>计算该收款单的总额，修改相关账户的余额</td>
    </tr>
    <tr>
    	<td rowspan=3>getPaymentSheetByState</td>
        <td>语法</td>
        <td>List<PaymentSheetVO> getPaymentSheetByState(PaymentSheetState state);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>state为null或者四个状态之一</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回对应状态的所有单据</td>
    </tr>
    <tr>
    	<td rowspan=3>approval</td>
        <td>语法</td>
        <td>void approval(String paymentSheetId, PaymentSheetState state);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该单据原先的状态不是审批成功或者审批失败</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>修改单据的状态，并且修改对应客户的应收</td>
    </tr>
    <tr>
    	<td rowspan=3>getPaymentSheetById</td>
        <td>语法</td>
        <td>PaymentSheetVO getPaymentSheetById(String paymentSheetId);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该id对应的单据存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回一个单据的VO</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务名</td>
    </tr>
    <tr>
    	<td>PaymentDao.getLatest()</td>
        <td colspan=2>返回最近一个单据的PO</td>
    </tr>
    <tr>
    	<td>PaymentDao.save(PaymentSheetPO paymentSheetPO)</td>
        <td colspan=2>将一个单据PO存入数据库中</td>
    </tr>
    <tr>
    	<td>PaymentDao.saveContent(List$lt;PaymentSheetContentPO> paymentSheetContentPOList)</td>
        <td colspan=2>将单据中的转账条目PO存入数据库中</td>
    </tr>
    <tr>
    	<td>PaymentDao.findAll()</td>
        <td colspan=2>查询数据库中的所有单据</td>
    </tr>
    <tr>
    	<td>PaymentDao.findAllByState(PaymentSheetState state)</td>
        <td colspan=2>返回数据库中该状态的所有单据</td>
    </tr>
    <tr>
    	<td>PaymentDao.updateState(String paymentnId, PaymentSheetState state)</td>
        <td colspan=2>更新数据库中该单据的状态</td>
    </tr>
    <tr>
    	<td>PaymentDao.findOneById(String paymentSheetId)</td>
        <td colspan=2>返回数据库中该id的单据</td>
    </tr>
    <tr>
    	<td>PaymentDao.findContentByPaymentSheetId(String paymentSheetId)</td>
        <td colspan=2>返回数据库中该单据的所有转账条目</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 WarehouseGiftSheetService的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetService.create</td>
        <td>语法</td>
        <td>WarehouseGiftSheetVO create(WarehouseGiftSheetVO warehouseGiftSheetVO);
</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>制定销售单时选择促销策略是赠品</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>创建一个赠品单，并写入数据库</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetService.approval</td>
        <td>语法</td>
        <td>void approval(String warehouseGiftSheetId, WarehouseGiftSheetState state);
</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>修改单据的状态</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetService.findSheetByState</td>
        <td>语法</td>
        <td>List<WarehouseGiftSheetVO> findSheetByState(WarehouseGiftSheetState state);
</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回该状态的所有单据</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>WarehouseGiftSheetDao.getLatest()</td>
        <td colspan=2>获取最近一个单据</td>
    </tr>
    <tr>
    	<td>WarehouseGiftSheetDao.saveContent()</td>
        <td colspan=2>将WarehouseGiftSheetContent写入数据库</td>
    </tr>
    <tr>
    	<td>WarehouseGiftSheetDao.save()</td>
        <td colspan=2>将WarehouseGiftSheet写入数据库</td>
    </tr>
    <tr>
    	<td>WarehouseGiftSheetDao.findById()</td>
        <td colspan=2>通过id返回库存赠品单</td>
    </tr>
    <tr>
    	<td>WarehouseGiftSheetDao.approval()</td>
        <td colspan=2>修改单据的状态</td>
    </tr>
    <tr>
    	<td>WarehouseGiftSheetDao.findAll()</td>
        <td colspan=2>返回所有单据</td>
    </tr>
    <tr>
    	<td>WarehouseGiftSheetDao.findAllByState()</td>
        <td colspan=2>返回状态为state的所有单据</td>
    </tr>
    <tr>
    	<td>WarehouseGiftSheetDao.findContentsById()</td>
        <td colspan=2>返回某个库存赠品单的所有赠品内容</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PromotionStrategyService的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionStrategyService.add</td>
        <td>语法</td>
        <td>void add(PromotionContentVO promotionContentVO);
</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>创建一个促销策略，并写入数据库</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionStrategyService.del</td>
        <td>语法</td>
        <td>void del(Integer id);
</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该id对应的销售策略存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>从数据库中删除该促销策略</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionStrategyService.getAll</td>
        <td>语法</td>
        <td>PromotionVO getAll()
</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回所有促销策略</td>
    </tr>
        <tr>
    	<td rowspan=3>PromotionStrategyService.getAllValid</td>
        <td>语法</td>
        <td>PromotionVO getAllValid()
</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回所有有效时间内的促销策略</td>
    </tr>
    <tr style="text-align: center;">
	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
</tr>
<tr>
	<td>服务名</td>
    <td colspan=2>服务</td>
</tr>
<tr>
	<td>PromotionDao.save()</td>
    <td colspan=2>将促销策略存入数据库</td>
</tr>
<tr>
	<td>PromotionDao.delete()</td>
    <td colspan=2>根据id删除促销策略</td>
</tr>
<tr>
	<td>PromotionDao.getAll()</td>
    <td colspan=2>返回数据库中所有的促销策略</td>
</tr>
<tr>
	<td>PromotionDao.getById()</td>
    <td colspan=2>通过id返回促销策略</td>
</tr>
<tr>
	<td>CustomerService.findCustomerById()</td>
    <td colspan=2>根据id从数据库中查找用户</td>
</tr>
<tr>
	<td>WarehouseGiftSheetService.create()</td>
    <td colspan=2>生成库存赠品单</td>
</tr>
</table>

<table>    
    <caption style="font-weight:bold">表 EmployeeManagementService的接口规范</caption>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementService.createEmployee</td>
        <td>语法</td>
        <td>void createEmployee(EmployeeVO employeeVO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>Controller层需要创建一个员工</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementService.updateEmployee</td>
        <td>语法</td>
        <td>EmployeeVO updateEmployee(EmployeeVO employeeVO);
</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回该员工的EmployeeVO</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementService.deleteEmployee</td>
        <td>语法</td>
        <td>void deleteEmployee(Integer empId);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>该id的员工存在</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementService.getAllEmployees</td>
        <td>语法</td>
        <td>List<EmployeeVO> getAllEmployees();</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回所有员工</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementService.findEmployeeById</td>
        <td>语法</td>
        <td>EmployeeVO findEmployeeById(Integer empId);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回该id对应的员工VO</td>
    </tr>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
        <td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
        <td>EmployeeManagementDao.createEmployee(EmployeePO employeePO)</td>
        <td colspan=2>把EmployeePO对象写进数据库</td>
    </tr>
    <tr>
        <td>EmployeeManagementDao.updateEmployee(EmployeePO employeePO)</td>
        <td colspan=2>修改数据库中该员工</td>
    </tr>
    <tr>
        <td>EmployeeManagementDao.deleteEmployeeById(Integer empId)</td>
        <td colspan=2>通过id删除数据库中对应的员工</td>
    </tr>
    <tr>
        <td>EmployeeManagementDao.findAllEmployees()</td>
        <td colspan=2>查询数据库返回所有员工PO对象</td>
    </tr>
    <tr>
        <td>EmployeeManagementDao.findEmployeeById(Integer empId)</td>
        <td colspan=2>通过id查询数据库中的该员工，返回一个EmployeePO对象</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PostService的接口规范</caption>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
        <td rowspan=3>PostService.createPost</td>
        <td>语法</td>
        <td>void createPost(PostVO postVO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>Controller层需要创建一个岗位</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td rowspan=3>PostService.updatePost</td>
        <td>语法</td>
        <td>PostVO updatePost(PostVO postVO);
</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回该员工的PostVO</td>
    </tr>
    <tr>
        <td rowspan=3>PostService.deletePost</td>
        <td>语法</td>
        <td>void deletePost(Integer id);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>该id的岗位存在</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td rowspan=3>PostService.findAllPosts</td>
        <td>语法</td>
        <td>List<PostVO> findAllPosts();</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回所有岗位</td>
    </tr>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
        <td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
        <td>PostDao.createPost(PostPO postPO)</td>
        <td colspan=2>把PostPO对象写进数据库</td>
    </tr>
    <tr>
        <td>PostDao.updatePost(PostPO postPO)</td>
        <td colspan=2>修改数据库中该岗位</td>
    </tr>
    <tr>
        <td>PostDao.deletePostById(Integer id)</td>
        <td colspan=2>通过id删除数据库中对应的岗位</td>
    </tr>
    <tr>
        <td>PostDao.findAllPosts()</td>
        <td colspan=2>查询数据库返回所有岗位PO对象</td>
    </tr>
    <tr>
        <td>PostDao.findPostById(Integer id)</td>
        <td colspan=2>通过id查询数据库中的该岗位，返回一个PostPO对象</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PushMoneyService的接口规范</caption>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
        <td rowspan=3>PushMoneyService.createPushMoney</td>
        <td>语法</td>
        <td>PushMoneyVO createPushMoney(PushMoneyVO pushMoneyVO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>需要创建一个提成</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回该提成的VO</td>
    </tr>
    <tr>
        <td rowspan=3>PushMoneyService.updatePushMoney</td>
        <td>语法</td>
        <td>PushMoneyVO updatePushMoney(PushMoneyVO pushMoneyVO);
</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>Controller层需要修改该提成信息</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回该员工的PushMoneyVO</td>
    </tr>
    <tr>
        <td rowspan=3>PushMoneyService.deletePushMoney</td>
        <td>语法</td>
        <td>void deletePushMoneyById(Integer id);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>需要删除该提成，且该id的提成存在</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td rowspan=3>PushMoneyService.findAllPushMoney</td>
        <td>语法</td>
        <td>List<PushMoneyVO> findAllPushMoney();</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>Controller层需要所有的提成信息</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回所有提成信息</td>
    </tr>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
        <td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
        <td>PushMoneyDao.createPushMoney(PushMoneyPO pushMoneyPO)</td>
        <td colspan=2>把PushMoneyPO对象写进数据库</td>
    </tr>
    <tr>
        <td>PushMoneyDao.update(PushMoneyPO pushMoneyPO)</td>
        <td colspan=2>修改数据库中该提成</td>
    </tr>
    <tr>
        <td>PushMoneyDao.deleteById(Integer id)</td>
        <td colspan=2>通过id删除数据库中对应的提成</td>
    </tr>
    <tr>
        <td>PushMoneyDao.findAll()</td>
        <td colspan=2>查询数据库返回所有提成PO对象</td>
    </tr>
    <tr>
        <td>PushMoneyDao.findById(Integer id)</td>
        <td colspan=2>通过id查询数据库中的该提成，返回一个PushMoneyPO对象</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 AttendanceRecordService的接口规范</caption>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
        <td rowspan=3>AttendanceRecordServoce.createAttendanceRecord</td>
        <td>语法</td>
        <td>void createAttendanceRecord(AttendanceRecordVO attendanceRecordVO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>需要创建一个打卡记录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td rowspan=3>AttendanceRecordService.findById</td>
        <td>语法</td>
        <td>List<AttendanceRecordVO> findById(Integer id);
</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>Controller层需要查询某员工的打卡记录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回该员工的所有AttendanceRecordVO</td>
    </tr>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
        <td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
        <td>AttendanceRecordDao.createRecord(AttendanceRecordPO attendanceRecordPO)</td>
        <td colspan=2>把AttendanceRecordPO对象写进数据库</td>
    </tr>
    <tr>
        <td>AttendanceRecordDao.findById(Integer id)</td>
        <td colspan=2>查询某id的员工的所有打卡记录</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PayrollService的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollService.queryAll</td>
        <td>语法</td>
        <td>public List<PayrollVO> queryAll();</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回所有工资单的VO</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollService.getDetail</td>
        <td>语法</td>
        <td>public List<PayrollVO> getDetail()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回所有的工资详细信息</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollService.add</td>
        <td>语法</td>
        <td>public void add(UserVO userVO, PayrollVO payrollVO)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>同名id不存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>添加一个账号</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollService.update</td>
        <td>语法</td>
        <td>public void update(UserVO userVO, PayrollVO payrollVO)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该工资单id存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>更新该工资单</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollService.delete</td>
        <td>语法</td>
        <td>public void delete(String id)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该工资单id存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>删除该工资单</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>PayrollDao.queryAll()</td>
        <td colspan=2>查询全部工资单</td>
    </tr>
    <tr>
    	<td>PayrollDao.getDetail(Integer year, Date beginDate, Date endDate)</td>
        <td colspan=2>查询工资信息</td>
    </tr>
    <tr>
    	<td>PayrollDao.add(PayrollPO payrollPO)</td>
        <td colspan=2>添加工资单</td>
    </tr>
    <tr>
    	<td>PayrollDao.update(PayrollPO payrollPO)</td>
        <td colspan=2>更新工资单</td>
    </tr>
    <tr>
    	<td>PayrollDao.delete(String id)</td>
        <td colspan=2>删除工资单</td>
    </tr>
    <tr>
    	<td>PayrollDao.getLatest()</td>
        <td colspan=2>获取最后一个的工资单ID</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 SalesDetailService的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>SalesDetailService.findSalesDetail</td>
        <td>语法</td>
        <td>List<SalesDetailFormVO> findSalesDetail(Date beginDate, Date endDate, String salesman, String pid, Integer customerId)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回销售明细的VO</td>
    </tr>
    <tr>
    	<td rowspan=3>SalesDetailService.salesDetailExcel</td>
        <td>语法</td>
        <td>SXSSFWorkbook salesDetailExcel(Date beginDate, Date endDate, String salesman, String pid, Integer customerId)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回工资单excel</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>SalesDetailDao.findSalesDetailInSalesSheet(Date beforeTime, Date afterTime, String salesman, String pid, Integer customerId)</td>
        <td colspan=2>根据参数在销售单中查询明细表</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 BusinessHistoryService的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.querySaleSheet</td>
        <td>语法</td>
        <td>List<SaleSheetPO> querySaleSheet(Date beginDate, Date endDate, Integer customer, String salesMan)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回销售单的VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.querySaleReturnsSheet</td>
        <td>语法</td>
        <td>List<SaleReturnsSheetPO> querySaleReturnsSheet(Date beginDate, Date endDate, Integer customer, String salesMan)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回销售退货单VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.queryPurchaseSheet</td>
        <td>语法</td>
        <td>List<PurchaseSheetPO> queryPurchaseSheet(Date beginDate, Date endDate, Integer customer);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回进货单的VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.queryPurchaseReturnsSheet</td>
        <td>语法</td>
        <td>List<PurchaseReturnsSheetPO> queryPurchaseReturnsSheet(Date beginDate, Date endDate);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回进货退货单的VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.queryPaymentSheet</td>
        <td>语法</td>
        <td>List<PaymentSheetPO> queryPaymentSheet(Date beginDate, Date endDate)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回付款单的VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.queryCollectionSheet</td>
        <td>语法</td>
        <td>List<CollectionSheetPO> queryCollectionSheet(Date beginDate, Date endDate);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回收款单的VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.queryPayroll</td>
        <td>语法</td>
        <td>List<PayrollPO> queryPayroll(Date beginDate, Date endDate);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回工资单的VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.downloadSaleSheet</td>
        <td>语法</td>
        <td>SXSSFWorkbook downloadSaleSheet(Date beginDate, Date endDate, Integer customer, String salesMan);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回销售单excel</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.downloadSaleReturnsSheet</td>
        <td>语法</td>
        <td>SXSSFWorkbook downloadSaleReturnsSheet(Date beginDate, Date endDate, Integer customer, String salesMan);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回销售退货单excel</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.downloadPurchaseSheet</td>
        <td>语法</td>
        <td>SXSSFWorkbook downloadPurchaseSheet(Date beginDate, Date endDate, Integer customer);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回进货单excel</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.downloadPurchaseReturnsSheet</td>
        <td>语法</td>
        <td>SXSSFWorkbook downloadPurchaseReturnsSheet(Date beginDate, Date endDate);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回进货退货单excel</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.downloadPaymentSheet</td>
        <td>语法</td>
        <td>SXSSFWorkbook downloadPaymentSheet(Date beginDate, Date endDate);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回付款单excel</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.downloadCollectionSheet</td>
        <td>语法</td>
        <td>SXSSFWorkbook downloadCollectionSheet(Date beginDate, Date endDate);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回收款单excel</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryService.downloadPayroll</td>
        <td>语法</td>
        <td>SXSSFWorkbook downloadPayroll(Date beginDate, Date endDate);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回工资单excel</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>BusinessHistoryDao.querySaleSheet(Date beginDate, Date endDate, Integer customer, String salesMan)</td>
        <td colspan=2>根据参数查询销售单</td>
    </tr>
    <tr>
    	<td>BusinessHistoryDao.querySaleReturnsSheet(Date beginDate, Date endDate, Integer customer, String salesMan)</td>
        <td colspan=2>根据参数查询销售退货单</td>
    </tr>
    <tr>
    	<td>BusinessHistoryDao.queryPurchaseSheet(Date beginDate, Date endDate, Integer customer)</td>
        <td colspan=2>根据参数查询进货单</td>
    </tr>
    <tr>
    	<td>BusinessHistoryDao.queryPurchaseReturnsSheet(Date beginDate, Date endDate)</td>
        <td colspan=2>根据参数查询进货退货单</td>
    </tr>
    <tr>
    	<td>BusinessHistoryDao.queryPaymentSheet(Date beginDate, Date endDate)</td>
        <td colspan=2>根据参数查询付款单</td>
    </tr>
    <tr>
    	<td>BusinessHistoryDao.queryCollectionSheet(Date beginDate, Date endDate)</td>
        <td colspan=2>根据参数查询收款单</td>
    </tr>
    <tr>
    	<td>BusinessHistoryDao.queryPayroll(Date beginDate, Date endDate)</td>
        <td colspan=2>根据参数查询工资单</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 OperationService的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>OperationService.getExcel</td>
        <td>语法</td>
        <td>public SXSSFWorkbook getExcel(Date beginDate, Date endDate)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回经营情况excel</td>
    </tr>
    <tr>
    	<td rowspan=3>OperationService.getOpertion</td>
        <td>语法</td>
        <td>public OperationVO getOpertion(Date beginDate, Date endDate)<td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回经营情况VO</td>
    </tr>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">需要的服务（需接口）</td>
    </tr>
    <tr>
    	<td>服务名</td>
        <td colspan=2>服务</td>
    </tr>
    <tr>
    	<td>BusinessHistoryService.querySaleSheet</td>
        <td colspan=2>根据参数查询销售单</td>
    </tr>
    <tr>
    	<td>BusinessHistoryService.querySaleReturnsSheet</td>
        <td colspan=2>根据参数查询销售退货单</td>
    </tr>
    <tr>
    	<td>BusinessHistoryService.queryPurchaseSheet</td>
        <td colspan=2>根据参数查询进货单</td>
    </tr>
    <tr>
    	<td>BusinessHistoryService.queryPurchaseReturnsSheet</td>
        <td colspan=2>根据参数查询进货退货单</td>
    </tr>
    <tr>
    	<td>BusinessHistoryService.queryPayroll</td>
        <td colspan=2>根据参数查询工资单</td>
    </tr>
</table>


### 5.5 数据层的分解

<table>
    <caption style="font-weight:bold">表 AccountManagementDao的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementDao.createAccount</td>
        <td>语法</td>
        <td>int createAccount(AccountPO accountPO);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中不存在同样id的账户</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>向数据库中插入一个账户</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementDao.updateAccount</td>
        <td>语法</td>
        <td>int updateAccount(AccountPO accountPO);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中存在与其同样id的账户</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>更新数据库中该账户的信息</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementDao.deleteById</td>
        <td>语法</td>
        <td>int deleteById(Integer id);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中存在该id的账户</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>删除数据库中该id对应的记录</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementDao.find</td>
        <td>语法</td>
        <td>List<AccountPO> find();</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回数据库中所有的账户记录</td>
    </tr>
    <tr>
    	<td rowspan=3>AccountManagementDao.findById</td>
        <td>语法</td>
        <td>AccountPO findById(Integer id);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中存在该id的账户</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回数据库中该id对应的记录</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 CollectionDao的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionDao.getLatest</td>
        <td>语法</td>
        <td>CollectionSheetPO getLatest();</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回数据库中最近一个收款单</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionDao.save</td>
        <td>语法</td>
        <td>int save(CollectionSheetPO collectionSheetPO);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>向数据库插入一个新的收款单记录</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionDao.saveContent</td>
        <td>语法</td>
        <td>int saveContent(List<CollectionSheetContentPO> collectionSheetContentPOList);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>向数据库中插入这些收款单转账条目</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionDao.findAll</td>
        <td>语法</td>
        <td>List<CollectionSheetPO> findAll();</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回数据库中所有的收款单记录</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionDao.findAllByState</td>
        <td>语法</td>
        <td>List<CollectionSheetPO> findAllByState(CollectionSheetState state);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回数据库中所有该状态的收款单</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionDao.updateState</td>
        <td>语法</td>
        <td>int updateState(String collectionId, CollectionSheetState state);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该收款单id在数据库中存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>更新数据库中该收款单的状态</td>
    </tr>
    <tr>
        <td rowspan=3>CollectionDao.findOneById</td>
        <td>语法</td>
        <td>CollectionSheetPO findOneById(String collectionSheetId);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该收款单id在数据库中存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回数据库中该id对应的收款单</td>
    </tr>
    <tr>
    	<td rowspan=3>CollectionDao.findContentByCollectionSheetId</td>
        <td>语法</td>
        <td>List<CollectionSheetContentPO> findContentByCollectionSheetId(String collectionSheetId);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该收款单id在数据库中存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回该id的收款单的所有转账记录</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PaymentDao的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>PaymentDao.getLatest</td>
        <td>语法</td>
        <td>PaymentSheetPO getLatest();</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回数据库中最近一个付款单</td>
    </tr>
    <tr>
    	<td rowspan=3>PaymentDao.save</td>
        <td>语法</td>
        <td>int save(PaymentSheetPO paymentSheetPO);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>向数据库插入一个新的付款单记录</td>
    </tr>
    <tr>
    	<td rowspan=3>PaymentDao.saveContent</td>
        <td>语法</td>
        <td>int saveContent(List<PaymentSheetContentPO> paymentSheetContentPOList);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>向数据库中插入这些付款单转账条目</td>
    </tr>
    <tr>
    	<td rowspan=3>PaymentDao.findAll</td>
        <td>语法</td>
        <td>List<PaymentSheetPO> findAll();</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回数据库中所有的付款单记录</td>
    </tr>
    <tr>
    	<td rowspan=3>PaymentDao.findAllByState</td>
        <td>语法</td>
        <td>List<PaymentSheetPO> findAllByState(PaymentSheetState state);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回数据库中所有该状态的付款单</td>
    </tr>
    <tr>
    	<td rowspan=3>PaymentDao.updateState</td>
        <td>语法</td>
        <td>int updateState(String paymentId, PaymentSheetState state);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该付款单id在数据库中存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>更新数据库中该付款单的状态</td>
    </tr>
    <tr>
        <td rowspan=3>PaymentDao.findOneById</td>
        <td>语法</td>
        <td>PaymentSheetPO findOneById(String paymentSheetId);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该付款单id在数据库中存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回数据库中该id对应的付款单</td>
    </tr>
    <tr>
    	<td rowspan=3>PaymentDao.findContentByPaymentSheetId</td>
        <td>语法</td>
        <td>List<PaymentSheetContentPO> findContentByPaymentSheetId(String paymentSheetId);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该付款单id在数据库中存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回该id的付款单的所有转账记录</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 WarehouseGiftSheetDao的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetDao.getLatest</td>
        <td>语法</td>
        <td>WarehouseGiftSheetPO getLatest();</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回最近一个单据</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetDao.save</td>
        <td>语法</td>
        <td>int save(WarehouseGiftSheetPO warehouseGiftSheetPO);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回是否插入成功</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetDao.saveContent</td>
        <td>语法</td>
        <td>int saveContent(List<WarehouseGiftSheetContentPO> contentList);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回是否插入成功</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetDao.approval</td>
        <td>语法</td>
        <td>int approval(String WarehouseGiftSheetId, WarehouseGiftSheetState state);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该单据当前的状态和更新后的状态不冲突</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回是否修改成功</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetDao.findAll</td>
        <td>语法</td>
        <td>List<WarehouseGiftSheetPO> findAll();</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回所有单据</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetDao.findById</td>
        <td>语法</td>
        <td>WarehouseGiftSheetPO findById(String WarehouseGiftSheetId);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该id的单据存在数据库中</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回该单据</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetDao.findAllByState</td>
        <td>语法</td>
        <td>List<WarehouseGiftSheetPO> findAllByState(WarehouseGiftSheetState state);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回所有状态为state的单据</td>
    </tr>
    <tr>
    	<td rowspan=3>WarehouseGiftSheetDao.findContentsById</td>
        <td>语法</td>
        <td>List<WarehouseGiftSheetContentPO> findContentsById(String WarehouseGiftSheetId);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>该id的单据存在数据库中</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回该单据的所有content</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PromotionDao的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionDao.save</td>
        <td>语法</td>
        <td>int save(List<PromotionContentPO> poList)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中不存在同样id的促销策略</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>向数据库中插入一个促销策略</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionDao.delete</td>
        <td>语法</td>
        <td>int delete(int id)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中存在与其同样id的促销策略</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>删除该id对应的促销策略</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionDao.getAll</td>
        <td>语法</td>
        <td>List<PromotionContentPO> getAll()</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回数据库中所有的促销策略</td>
    </tr>
    <tr>
    	<td rowspan=3>PromotionDao.getById</td>
        <td>语法</td>
        <td>PromotionContentPO getById(int id)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库中存在与其同样id的促销策略</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回数据库中该id对应的促销策略</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 EmployeeManagementDao的接口规范</caption>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementDao.createEmployee</td>
        <td>语法</td>
        <td>int createEmployee(EmployeePO employeePO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>数据库中不存在同样id的员工</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>向数据库中插入一个员工</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementDao.updateEmployee</td>
        <td>语法</td>
        <td>int updateEmployee(EmployeePO employeePO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>数据库中存在与其同样id的员工</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>更新数据库中该员工的信息</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementDao.deleteEmployeeById</td>
        <td>语法</td>
        <td>int deleteEmployeeById(Integer empId);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>数据库中存在该id的员工</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>删除数据库中该id对应的员工</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementDao.findAllEmployees</td>
        <td>语法</td>
        <td>List<EmployeePO> findAllEmployees();</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回数据库中所有的员工记录</td>
    </tr>
    <tr>
        <td rowspan=3>EmployeeManagementDao.findEmployeeById</td>
        <td>语法</td>
        <td>EmployeePO findEmployeeById(Integer empId);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>数据库中存在该id的员工</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回数据库中该id对应的员工信息</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PostDao的接口规范</caption>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
        <td rowspan=3>PostDao.createPost</td>
        <td>语法</td>
        <td>int createPost(PostPO postPO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>数据库中不存在同样id的岗位</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>向数据库中插入一个岗位</td>
    </tr>
    <tr>
        <td rowspan=3>PostDao.updatePost</td>
        <td>语法</td>
        <td>int updatePost(PostPO postPO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>数据库中存在与其同样id的岗位</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>更新数据库中该岗位的信息</td>
    </tr>
    <tr>
        <td rowspan=3>PostDao.deletePostById</td>
        <td>语法</td>
        <td>int deletePostById(Integer id);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>数据库中存在该id的岗位</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>删除数据库中该id对应的岗位</td>
    </tr>
    <tr>
        <td rowspan=3>PostDao.findAllPosts</td>
        <td>语法</td>
        <td>List<PostPO> findAllPosts();</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回数据库中所有的岗位信息</td>
    </tr>
    <tr>
        <td rowspan=3>PostDao.findPostById</td>
        <td>语法</td>
        <td>PostPO findPostById(Integer id);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>数据库中存在该id的岗位</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回数据库中该id对应的岗位信息</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PushMoneyDao的接口规范</caption>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
        <td rowspan=3>PushMoneyDao.createPushMoney</td>
        <td>语法</td>
        <td>int createPushMoney(PushMoneyPO pushMoneyPO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>新创建一位带有提成的员工且数据库中不存在同样id的提成信息</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>向数据库中插入一个提成信息</td>
    </tr>
    <tr>
        <td rowspan=3>PushMoneyDao.update</td>
        <td>语法</td>
        <td>int update(PushMoneyPO pushMoneyPO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>数据库中存在与其同样id的提成</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>更新数据库中该提成的信息</td>
    </tr>
    <tr>
        <td rowspan=3>PushMoneyDao.deleteById</td>
        <td>语法</td>
        <td>int deleteById(Integer id);;</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>有带提成的员工离职且数据库中存在该id的提成</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>删除数据库中该id对应的提成</td>
    </tr>
    <tr>
        <td rowspan=3>PushMoneyDao.findAll</td>
        <td>语法</td>
        <td>List<PushMoneyPO> findAll();</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回数据库中所有的提成信息</td>
    </tr>
    <tr>
        <td rowspan=3>PushMoneyDao.findById</td>
        <td>语法</td>
        <td>PushMoneyPO findById(Integer id);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>数据库中存在该id的提成</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回数据库中该id对应的提成信息</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 AttendanceRecordDao的接口规范</caption>
    <tr style="text-align: center;">
        <td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
        <td rowspan=3>AttendanceRecordDao.createRecord</td>
        <td>语法</td>
        <td>int createRecord(AttendanceRecordPO attendanceRecordPO);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>需要创建一条打卡记录，且今天该员工未进行打卡</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>向数据库中插入一个打卡信息</td>
    </tr>
    <tr>
        <td rowspan=3>AttendanceRecordDao.findById</td>
        <td>语法</td>
        <td>List<AttendanceRecordPO> findById(Integer id);</td>
    </tr>
    <tr>
        <td>前置条件</td>
        <td>需要查询该员工的所有打卡记录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回该员工的所有AttendanceRecordPO</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 PayrollDao的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollDao.queryAll</td>
        <td>语法</td>
        <td>public List<PayrollPO> queryAll();</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回所有的工资单VO</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollDao.getDetail</td>
        <td>语法</td>
        <td>public List<DetailPO> getDetail(Integer year, Date beginDate, Date endDate)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回所有工资细节VO</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollDao.add</td>
        <td>语法</td>
        <td>public int add(PayrollPO payrollPO);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>同名ID不存在</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>向数据库中插入一条工资单记录</td>
    </tr>
    <tr>
    	<td rowspan=3>PayrollDao.update</td>
        <td>语法</td>
        <td>public int update(PayrollPO payrollPO)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库存在该ID</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>更新数据库的一条记录</td>
    </tr>
    	<td rowspan=3>PayrollDao.delete</td>
        <td>语法</td>
        <td>public int delete(String id);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库存在该ID</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>删除数据库的一条记录</td>
    </tr>
    	<td rowspan=3>PayrollDao.getLatest</td>
        <td>语法</td>
        <td>public PayrollPO getLatest();</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>获取最后一个工资单ID</td>
    </tr>
    	<td rowspan=3>PayrollDao.queryById</td>
        <td>语法</td>
        <td>public PayrollPO queryById(String id)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>数据库存在该ID</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>返回该ID对应的工资单</td>
    </tr>
</table>

<table>
    <caption style="font-weight:bold">表 SalesDetailDao的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>SalesDetailDao.findSalesDetailInSalesSheet</td>
        <td>语法</td>
        <td>List<SalesDetailFormPO> findSalesDetailInSalesSheet(Date beforeTime, Date afterTime, String salesman, String pid, Integer customerId)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>根据参数返回销售明细表VO</td>
    </tr>
</table>   



<table>
    <caption style="font-weight:bold">表 BusinessHistoryDao的接口规范</caption>
    <tr style="text-align: center;">
    	<td colspan=3 style="font-weight:bold">提供的服务（供接口）</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryDao.querySaleSheet</td>
        <td>语法</td>
        <td>List<SaleSheetPO> querySaleSheet(Date beginDate, Date endDate, Integer customer, String salesMan)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>根据参数返回销售单VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryDao.querySaleReturnsSheet</td>
        <td>语法</td>
        <td>List<SaleReturnsSheetPO> querySaleReturnsSheet(Date beginDate, Date endDate, Integer customer, String salesMan)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>根据参数返回销售退货单VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryDao.queryPurchaseSheet</td>
        <td>语法</td>
        <td>List<PurchaseSheetPO> queryPurchaseSheet(Date beginDate, Date endDate, Integer customer)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>根据参数返回进货单VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryDao.queryPayroll</td>
        <td>语法</td>
        <td>List<PayrollPO> queryPayroll(Date beginDate, Date endDate)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>根据参数返回工资单VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryDao.queryPurchaseReturnsSheet</td>
        <td>语法</td>
        <td>List<PurchaseReturnsSheetPO> queryPurchaseReturnsSheet(Date beginDate, Date endDate)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>根据参数返回进货退货单VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryDao.queryPaymentSheet</td>
        <td>语法</td>
        <td>List<PaymentSheetPO> queryPaymentSheet(Date beginDate, Date endDate)</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>根据参数返回付款单VO</td>
    </tr>
    <tr>
    	<td rowspan=3>BusinessHistoryDao.queryCollectionSheet</td>
        <td>语法</td>
        <td>List<CollectionSheetPO> queryCollectionSheet(Date beginDate, Date endDate);</td>
    </tr>
    <tr>
    	<td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
    	<td>后置条件</td>
        <td>根据参数返回收款单VO</td>
    </tr>
</table>



## 6.信息视图

### 6.1 数据持久化对象

**AccountPO**包含账户的id、姓名(name)、余额(balance)

**AttendanceRecordPO**是员工打卡记录的持久化对象，包含员工id(empId)、打卡日期(date)

**CollectionSheetContentPO**是收款单中的转账条目的持久化对象，包含id、银行账户(accountId)、收款单id(collectionSheetId)、转账金额(total)、备注(remark)

**CollectionSheetPO**是收款单的持久化对象，包含id、客户id(customer)、操作员姓名(operator)、单据状态(state)、总额(total)、创建时间(createTime)

**PaymentSheetContentPO**是付款单中的转账条目的持久化对象，包含id、银行账户(accountId)、付款单id(paymentSheetId)、转账金额(total)、备注(remark)

**PaymentSheetPO**是付款单的持久化对象，包含id、客户id(customer)、作员姓名(operator)、单据状态(state)、总额(total)、创建时间(createTime)

**PromotionContentPO**是促销策略的持久化对象，包含id、策略名(name)、折扣(discount)、优惠券(reduce)、等级(level)、开始时间(start)、结束时间(end)、促销方式(strategy)、赠品名(gift)、赠品数量(giftNum)

**WarehouseGiftSheetPO**是库存赠品单的持久化对象，包含id、操作员姓名(operator)、状态(state)、创建时间(createTime)、顾客id(customerId)、关联的销售单id(saleSheetId)

**WarehouseGiftSheetContentPO**是库存赠品单的条目的持久化对象，包含id、关联的库存赠品单(warehouseGiftSheetId)、商品id(pid)、赠品数量(quantity)、赠品单价(unitPrice)、备注(remark)

**EmployeePO**是员工的持久化对象，包含id、员工姓名(name)、联系电话(phoneNum)、住址(address)、岗位编号(postId)、岗位名称(postName)、银行卡号(bankCard)、入职日期(hiredate)

**PostPO**是岗位的持久化对象，包含id、岗位名称(name)、基本工资(basicWage)、岗位工资(postWage)、岗位薪资类型(type)

**PushMoneyPO**是提成信息的持久化对象，包含员工id(empId)、提成金额(pushMoney)

**SalesDetailFormPO** 是销售明细的持久化对象，包含时间（createTime）、商品名（name）、商品id（pid）、销售员（salesman）、客户姓名（customer）、客户id（customerId）、型号（type）、数量（quantity）、单价（unitPrice）、总额（totalPrice）、销售还是退货类型（salesType）

**PayrollPO** 是工资单的持久化对象，包含创建日期（createTime）、操作员（operator）、单据编号（id）、员工名（name）、员工id（employeeId）、银行卡（bankCard）、应发工资（payableWages）、失业保险（unemploymentInsurance）、个人所得税（personalIncomeTax）、住房公积金（housingProvidentFund）、实发金额（actualAmountIssued）、状态（state）、年终奖（yearEndBonus）

**DetailPO** 是员工工资细持久化对象，包含员工编号（id）、薪资类型（type）、基本工资（basic）、提成（push）、年终奖（bonus）、打卡次数（times）、名字（name）、卡号（bankCard）

**YearEndBonusPO** 是年终奖的持久化对象，包含年份（year）、员工id（employId）、年薪（yearEndBonus）

### 6.2  数据库表


数据库中一共有31个表，分别为：

account表、attendance_record_sheet表、category表、collection_sheet表、collection_sheet_content表、customer表、employee_sheet表、payment_sheet表、payment_sheet_content表、payroll_sheet表、post_sheet表、product表、promotion_strategy表、purchase_returns_sheet表、purchase_returns_sheet_content表、purchase_sheet表、purchase_sheet_content表、push_money_sheet表、sale_returns_sheet表、sale_returns_sheet_content表、sale_sheet表、sale_sheet_content表、user表、warehouse表、warehouse_gift_sheet表、warehouse_gift_sheet_content表、warehouse_input_sheet表、warehouse_input_sheet_content表、warehouse_output_sheet表、warehouse_output_sheet_content表、year_end_bonus_sheet表
